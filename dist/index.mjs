function e(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var t="function"==typeof Symbol&&Symbol.observable||"@@observable",s=function(){return Math.random().toString(36).substring(7).split("").join(".")},r={INIT:"@@redux/INIT"+s(),REPLACE:"@@redux/REPLACE"+s(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+s()}};function a(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}let n=function s(n,c,o){var i;if("function"==typeof c&&"function"==typeof o||"function"==typeof o&&"function"==typeof arguments[3])throw new Error(e(0));if("function"==typeof c&&void 0===o&&(o=c,c=void 0),void 0!==o){if("function"!=typeof o)throw new Error(e(1));return o(s)(n,c)}if("function"!=typeof n)throw new Error(e(2));var u=n,f=c,p=[],l=p,m=!1;function y(){l===p&&(l=p.slice())}function w(){if(m)throw new Error(e(3));return f}function g(t){if("function"!=typeof t)throw new Error(e(4));if(m)throw new Error(e(5));var s=!0;return y(),l.push(t),function(){if(s){if(m)throw new Error(e(6));s=!1,y();var r=l.indexOf(t);l.splice(r,1),p=null}}}function h(t){if(!a(t))throw new Error(e(7));if(void 0===t.type)throw new Error(e(8));if(m)throw new Error(e(9));try{m=!0,f=u(f,t)}finally{m=!1}for(var s=p=l,r=0;r<s.length;r++){(0,s[r])()}return t}function b(t){if("function"!=typeof t)throw new Error(e(10));u=t,h({type:r.REPLACE})}function d(){var s,r=g;return(s={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error(e(11));function s(){t.next&&t.next(w())}return s(),{unsubscribe:r(s)}}})[t]=function(){return this},s}return h({type:r.INIT}),(i={dispatch:h,subscribe:g,getState:w,replaceReducer:b})[t]=d,i}((function(e=0,t){switch(t.type){case"INCREMENT":return e+1;case"DECREMENT":return e-1;default:return e}}));var c=n;let o="web",i={url:{signal:{web:"https://web3-news.herokuapp.com",web2:"https://web3.news",web3:"https://web3-star.herokuapp.com",local:"http://localhost:4434"}},role:{recipient:"recipient",initiator:"initiator"},test:{peer:{0:"QmcrQZ6RJdpYuGvZqD5QEHAv6qX4BrQLJLQPQUrTrzdcgm",1:"Qma3GsJmB47xYuyahPZPSadh1avvxfyYQwk8R3UnFrQ6aP"}}};i.url.signal[`${o}`];var u=i.role;let f=Object.prototype.hasOwnProperty,p=Object.prototype.toString;var l=function(e){if(null==e)return!0;if("boolean"==typeof e)return!1;if("number"==typeof e)return 0===e;if("string"==typeof e)return 0===e.length;if("function"==typeof e)return 0===e.length;if(Array.isArray(e)){return e instanceof Object?0===Object.keys(e).length:0===e.length}if(e instanceof Error)return""===e.message;if(e.toString==p)switch(e.toString()){case"[object File]":case"[object Map]":case"[object Set]":return 0===e.size;case"[object Object]":for(var t in e)if(f.call(e,t))return!1;return!0}return!1},m=(e=!0,t="",s)=>new Promise((async(t,s)=>{try{let s={params:{},api:{}};s.params.debug=e,s.params.recipient=!1,s.params.initiator=!1,s.params.location=!1,s.params.id=!1,s.api=await((e={})=>new Promise((async(t,s)=>{t({peer:async s=>{try{e.params.id=s,t({status:!0,success:!0,message:e.api})}catch(e){t({status:!1,success:!1,message:e})}},role:async s=>{try{switch(s){case`${u.initiator}`:e.params.initiator=!0;break;case`${u.recipient}`:e.params.recipient=!0;break;default:console.warn("неизвестная роль",s)}t({status:!0,success:!0,message:e.api})}catch(e){t({status:!1,success:!1,message:e})}},await:async(e,s)=>{try{let r=await fs.symlink(e,s);t({status:!0,success:!0,message:r})}catch(e){t({status:!1,success:!1,message:e})}},connect:async e=>{try{t({status:!0,success:!0,message:""})}catch(e){t({status:!1,success:!1,message:e})}},request:async(e={},s={},r="/newKind")=>{try{let a=await fs.mount(e,s,r);t({status:!0,success:!0,message:a})}catch(e){t({status:!1,success:!1,message:e})}},call:async(e="/newKind")=>{try{await fs.call(e),t({status:!0,success:!0,message:call})}catch(e){t({status:!1,success:!1,message:e})}},UpCall:e=>new Promise((async(t,s)=>{try{t({status:!0,success:!0,message:await fs.mkdir(e)})}catch(e){t({status:!1,success:!1,message:e})}})),message:e=>new Promise((async(t,s)=>{try{t({status:!0,success:!0,message:await fs.readdir(e)})}catch(e){t({status:!1,success:!1,message:e})}})),stream:e=>new Promise((async(t,s)=>{try{t({status:!0,success:!0,message:await fs.rmdir(e)})}catch(e){t({status:!1,success:!1,message:e})}})),disconnect:e=>new Promise((async(e,t)=>{try{e({status:!0,success:!0,message:await fs.cwd()})}catch(t){e({status:!1,success:!1,message:t})}})),multichannel:(e,t)=>new Promise((async(s,r)=>{try{s({status:!0,success:!0,message:await fs.rename(e,t)})}catch(e){s({status:!1,success:!1,message:e})}})),store:c})})))(s),t(new Proxy(s.api,{get:(e,t)=>"params"===t?s[t]:(s.params.debug&&console.log({_:"proxy get",prop:t,obj:e,value:e[t]}),e[t]),set:(e,t,r)=>(s.params.debug&&console.log({_:"proxy set",prop:t,obj:e,value:r}),l(e[t])&&(e[t]=[]),e[t]=r,!0)}))}catch(e){t({message:e.message,success:!0,status:!0})}}));export{m as default};